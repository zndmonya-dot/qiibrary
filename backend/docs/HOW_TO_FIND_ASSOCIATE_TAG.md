# Amazonアソシエイトタグの確認方法（登録済みの場合）

## 🔑 **方法1: アソシエイト・セントラルから確認（推奨）**

### 1️⃣ ログイン
1. https://affiliate.amazon.co.jp/ にアクセス
2. 右上の「ログイン」をクリック
3. 普段使っているAmazonアカウントでログイン

### 2️⃣ トラッキングIDの管理画面へ
ログイン後、以下のいずれかの方法で確認：

#### **方法A: ヘッダーメニューから**
1. 画面上部の「ツール」をクリック
2. 「トラッキングID の管理」を選択

#### **方法B: アカウント設定から**
1. 画面右上の「アカウント名（メールアドレス）」をクリック
2. ドロップダウンメニューから「トラッキングID の管理」を選択

#### **方法C: 直接URL**
https://affiliate.amazon.co.jp/home/account/tag/manage

### 3️⃣ タグの確認
「トラッキングID の管理」画面に、登録済みのタグが一覧表示されます。

**表示例:**
```
トラッキングID        作成日
━━━━━━━━━━━━━━━━━━━━━━━━
your-name-22          2024-01-15
your-site-22          2024-02-20
```

---

## 🔑 **方法2: リンク作成画面から確認**

### 1️⃣ Amazon.co.jpで書籍を検索
1. https://www.amazon.co.jp/ にアクセス
2. 任意の書籍を検索（例: "実践TypeScript"）
3. 商品ページを開く

### 2️⃣ SiteStripeツールバーを使用
商品ページの上部に「SiteStripe」というツールバーが表示されています。

1. 「テキスト」タブをクリック
2. 「短縮URL」の下にあるリンクを確認
   ```
   https://amzn.to/xxxxx?tag=your-tag-22
   ```
3. `tag=` の後ろの部分が **あなたのアソシエイトタグ** です

**例:**
```
https://amzn.to/3ZxYwVu?tag=booktuber-22
                            ^^^^^^^^^^^
                            これがアソシエイトタグ
```

---

## 🔑 **方法3: メールで確認**

Amazonアソシエイトに登録した際、登録メールアドレスに確認メールが届いているはずです。

### 確認手順
1. メールボックスで「Amazon」「アソシエイト」「Affiliate」などで検索
2. 件名「Amazonアソシエイト・プログラムへようこそ」のメールを探す
3. メール本文にトラッキングID（アソシエイトタグ）が記載されています

---

## 📱 **方法4: スマホアプリから確認**

### Amazonアソシエイトモバイルアプリ
1. アプリストアで「Amazon Associates」を検索してインストール
2. ログイン
3. 「Settings」→「Tracking ID」で確認

---

## ⚠️ **トラッキングIDが見つからない場合**

### ケース1: 登録が完了していない
登録途中で止まっている可能性があります。

**確認方法:**
1. https://affiliate.amazon.co.jp/ にログイン
2. 「アカウント情報の入力を完了してください」などのメッセージが表示される場合、登録を続行

### ケース2: アカウントが停止している
180日以内に販売がない場合、アカウントが停止されます。

**確認方法:**
1. https://affiliate.amazon.co.jp/ にログイン
2. 「アカウントが停止されています」というメッセージが表示される場合、再申請が必要

### ケース3: 別のアカウントで登録している
複数のAmazonアカウントをお持ちの場合、別のアカウントで登録している可能性があります。

**確認方法:**
1. 心当たりのある別のAmazonアカウントでログインを試す

---

## 🎯 **アソシエイトタグの形式**

### 日本のAmazonアソシエイト
```
username-22
```
- 英数字とハイフン(-)のみ
- 最後は必ず `-22` で終わる

### 例
```
booktuber-22
techbooks-22
mysite-dev-22
```

---

## 💻 **確認後の設定方法**

### 1. タグをコピー
トラッキングID管理画面で、タグをコピーします。

### 2. .envファイルに貼り付け
```bash
# backend/.env

AMAZON_ASSOCIATE_TAG=your-tag-22  # ← ここに貼り付け
```

### 3. バックエンドサーバーを再起動
```bash
# Ctrl+C でサーバー停止
cd c:\booktube\v0.0.0\backend
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

### 4. テストで確認
```bash
cd c:\booktube\v0.0.0\backend
python scripts\test_affiliate_links.py
```

---

## 🆘 **それでも見つからない場合**

### Amazonサポートに問い合わせ
1. https://affiliate.amazon.co.jp/ にログイン
2. 画面下部の「お問い合わせ」をクリック
3. 「トラッキングIDが確認できない」と問い合わせ

### または、新しいタグを作成
1. https://affiliate.amazon.co.jp/home/account/tag/manage
2. 「新しいトラッキングIDを追加」をクリック
3. 任意の名前を入力（例: `booktuber-new-22`）
4. 「作成」をクリック

---

## 📞 **サポート情報**

- **ヘルプページ**: https://affiliate.amazon.co.jp/help
- **よくある質問**: https://affiliate.amazon.co.jp/help/node/topic/G201170410
- **お問い合わせ**: アソシエイト・セントラルの「お問い合わせ」から

---

**次のステップ:**
1. ✅ 上記の方法でアソシエイトタグを確認
2. ✅ `backend/.env`ファイルに設定
3. ✅ バックエンドサーバーを再起動
4. ✅ テストスクリプトで動作確認

